{"version":3,"sources":["webpack:///./src/assets/blueBg.png","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///./src/views/Friends.vue?84f4","webpack:///src/views/Friends.vue","webpack:///./src/views/Friends.vue?6334","webpack:///./src/views/Friends.vue","webpack:///./src/components/show/Browse.vue?1f58","webpack:///./src/components/show/Browse.vue?7e02","webpack:///src/components/show/Browse.vue","webpack:///./src/components/show/Browse.vue?47ba","webpack:///./src/components/show/Browse.vue"],"names":["module","exports","_arrayWithoutHoles","arr","Array","isArray","arrayLikeToArray","_iterableToArray","iter","Symbol","iterator","from","_nonIterableSpread","TypeError","_toConsumableArray","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","expression","attrs","articleInfoListByFriends","friendIsAll","staticRenderFns","components","Browse","data","pageFriendInfo","pageIndex","pageSize","methods","mounted","getArticleFromFriend","then","$bus","$on","getAll","component","staticClass","ref","on","scrollFn","_l","item","index","key","coverImg","defalute","$event","gotoDetial","_v","_s","title","author_info","head_photo","username","give_like_count","isAll","window","removeEventListener","computed","throttle","listenBottomOut","is_video","cover_url","resource_url","ShowInfoAction","props","$router","push","$nextTick","scrollTop","clientHeight","scrollHeight","now","previous","wait","fn","apply","destroyed"],"mappings":"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","file":"static/js/chunk-4663ffd6.cc6c5297.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/img/blueBg.8f4dd5e7.png\";","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div'),_c('Browse',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.articleInfoListByFriends),expression:\"articleInfoListByFriends\"}],attrs:{\"info\":_vm.articleInfoListByFriends,\"isAll\":_vm.friendIsAll}}),_c('van-empty',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.articleInfoListByFriends),expression:\"!articleInfoListByFriends\"}],attrs:{\"description\":\"您的朋友还没有发布作品哦！\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div>\r\n      \r\n    </div>\r\n    <Browse :info='articleInfoListByFriends'\r\n            :isAll=\"friendIsAll\"\r\n            v-show=\"articleInfoListByFriends\" />\r\n    <van-empty description=\"您的朋友还没有发布作品哦！\"\r\n               v-show=\"!articleInfoListByFriends\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Browse from '../components/show/Browse.vue'\r\nimport { forrmatFileUrl } from '../utils/utils'\r\nexport default {\r\n  components: {\r\n    Browse,\r\n  },\r\n  data () {\r\n    return {\r\n      pageFriendInfo: {\r\n        pageIndex: 1,\r\n        pageSize: 8\r\n      },\r\n      articleInfoListByFriends: null,\r\n      friendIsAll: false\r\n    }\r\n  },\r\n  methods: {\r\n    async getArticleFromFriend () {\r\n      const { data: res } = await this.$http.get('/article/getArticleFromFriend', {\r\n        params: this.pageFriendInfo\r\n      })\r\n     \r\n      if (res.status === 'success') {\r\n        return res.articleInfoList ? forrmatFileUrl(res.articleInfoList) : null\r\n      }\r\n    },\r\n    async getAll () {\r\n      this.pageFriendInfo.pageIndex++\r\n      const res = await this.getArticleFromFriend()\r\n      if (res !== null) {\r\n        this.pageFriendInfo.push(...res)\r\n      } else {\r\n        this.friendIsAll = true\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n    this.getArticleFromFriend().then(res => {\r\n      this.articleInfoListByFriends = res\r\n    })\r\n\r\n    this.$bus.$on('getAllarticle', this.getAll)\r\n  },\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Friends.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Friends.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Friends.vue?vue&type=template&id=1b9f4679&\"\nimport script from \"./Friends.vue?vue&type=script&lang=js&\"\nexport * from \"./Friends.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Browse.vue?vue&type=style&index=0&id=451281d3&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.info),expression:\"info\"}],staticClass:\"index\"},[_c('div',{ref:\"partBox\",staticClass:\"part\",attrs:{\"id\":\"partBox\"},on:{\"scroll\":_vm.scrollFn}},[_c('div',{staticClass:\"scrollBox\"},_vm._l((_vm.info),function(item,index){return _c('div',{key:index,staticClass:\"show\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(_vm.coverImg(item)),expression:\"coverImg(item)\"}],attrs:{\"src\":_vm.defalute,\"alt\":\"简介图片\"},on:{\"click\":function($event){return _vm.gotoDetial(item)}}}),_c('p',[_vm._v(_vm._s(item?(item.title ? item.title:''):''))]),_c('div',{staticClass:\"authorInfo\"},[_c('van-image',{attrs:{\"height\":\"20\",\"width\":\"20\",\"radius\":\"50%\",\"src\":item.author_info.head_photo,\"fit\":\"fill\"}}),_c('span',{staticClass:\"authname\"},[_vm._v(_vm._s(item.author_info.username))]),_c('ShowInfoAction',{attrs:{\"msgItem\":item,\"likeCount\":item.give_like_count}})],1)])}),0)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"index\"\r\n       v-show=\"info\">\r\n    <div class=\"part\"\r\n         id=\"partBox\"\r\n         ref=\"partBox\"\r\n         @scroll='scrollFn'>\r\n      <div class=\"scrollBox\">\r\n        <div class=\"show\"\r\n             v-for=\"(item,index) in info\"\r\n             :key=\"index\">\r\n          <img :src=\"defalute\"\r\n               v-lazy='coverImg(item)'\r\n               @click=\"gotoDetial(item)\"\r\n               alt=\"简介图片\">\r\n          <p>{{item?(item.title ? item.title:''):''}}</p>\r\n          <div class=\"authorInfo\">\r\n            <van-image height='20'\r\n                       width=\"20\"\r\n                       radius=\"50%\"\r\n                       :src=\"item.author_info.head_photo\"\r\n                       fit=\"fill\" />\r\n            <span class=\"authname\">{{item.author_info.username}}</span>\r\n            <ShowInfoAction v-bind:msgItem=\"item\"\r\n                            v-bind:likeCount=\"item.give_like_count\" />\r\n          </div>\r\n\r\n        </div>\r\n\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ShowInfoAction from '../toolAction/ShowInfoAction.vue'\r\nexport default {\r\n  data () {\r\n    return {\r\n      defalute: require('../../assets/blueBg.png'),\r\n      name: 'ShowPart'\r\n    }\r\n  },\r\n  mounted () {\r\n    if (this.isAll) {\r\n      window.removeEventListener('scroll', this.scrollFn)\r\n    }\r\n  },\r\n  computed: {\r\n    scrollFn () {\r\n      return this.throttle(this.listenBottomOut)\r\n    },\r\n    coverImg () {\r\n      return item => {\r\n        if (!item) {\r\n          return ''\r\n        }\r\n        if (item.is_video === 1) {\r\n          return item.cover_url ? item.cover_url : this.defalute\r\n        } else {\r\n          const resource_url = item.resource_url ? item.resource_url[0] : this.defalute\r\n          return item.cover_url ? item.cover_url : resource_url\r\n        }\r\n      }\r\n    }\r\n  },\r\n  components: {\r\n    ShowInfoAction\r\n  },\r\n  props: ['info', 'isAll'],\r\n  methods: {\r\n    gotoDetial (item) {\r\n      if (item.is_video === 0) {\r\n        this.$router.push({ name: 'Detial', query: { messageId: item.article_id } })\r\n      } else {\r\n        this.$router.push({ name: 'video', query: { messageId: item.article_id } })\r\n      }\r\n    },\r\n    listenBottomOut () {\r\n      this.$nextTick(() => {\r\n        const partBox = document.getElementById('partBox')\r\n        const scrollBox = document.getElementsByClassName('scrollBox')[0]\r\n        const scrollTop = partBox.scrollTop || document.body.scrollTop\r\n        const clientHeight = partBox.clientHeight\r\n        const scrollHeight = scrollBox.scrollHeight\r\n        if (scrollTop + clientHeight >= scrollHeight) {\r\n          if (!this.isAll) {\r\n            this.$bus.$emit('getAllarticle')\r\n          } else {\r\n            window.removeEventListener('scroll', this.scrollFn)\r\n          }\r\n        }\r\n      })\r\n    },\r\n    throttle (fn, wait = 500) {\r\n      let previous = 0\r\n      return (...args) => {\r\n        const now = new Date().getTime()\r\n        if (now - previous > wait) {\r\n          previous = now\r\n          fn.apply(this, args)\r\n        }\r\n      }\r\n    }\r\n  },\r\n  destroyed () {\r\n    window.removeEventListener('scroll', this.scrollFn)\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.index {\r\n  .part {\r\n    width: 100%;\r\n    padding: 3px;\r\n    box-sizing: border-box;\r\n    height: 90vh;\r\n    overflow-y: auto;\r\n    margin-bottom: 50px;\r\n\r\n    // background-color: #f0f0f0;\r\n    .scrollBox {\r\n      column-count: 2;\r\n      column-gap: 10px;\r\n\r\n      .show {\r\n        break-inside: avoid;\r\n        background-color: #fff;\r\n        border-radius: 10px;\r\n        padding: 5px;\r\n        box-sizing: border-box;\r\n        margin-bottom: 10px;\r\n\r\n        .van-image {\r\n          z-index: 0;\r\n        }\r\n\r\n        img {\r\n          max-width: 100%;\r\n          width: 100%;\r\n          height: auto;\r\n          max-height: 210px;\r\n          box-sizing: border-box;\r\n          border-radius: 10px;\r\n        }\r\n\r\n        p {\r\n          max-height: 50px;\r\n          margin-top: 8px;\r\n          width: 100%;\r\n          padding-left: 5px;\r\n          padding-right: 5px;\r\n          box-sizing: border-box;\r\n          font-size: 14px;\r\n          //多行文本打省略号\r\n          overflow: hidden;\r\n          text-overflow: ellipsis;\r\n          display: -webkit-box;\r\n          -webkit-line-clamp: 2;\r\n          -webkit-box-orient: vertical;\r\n        }\r\n\r\n        .authorInfo {\r\n          margin-top: 5px;\r\n          height: 22px;\r\n          width: 100%;\r\n          display: flex;\r\n\r\n          align-items: center;\r\n          justify-content: space-around;\r\n\r\n          /deep/ span {\r\n            font-size: 12px;\r\n            margin-left: 5px;\r\n          }\r\n\r\n          .authname {\r\n            display: inline-block;\r\n            height: 20px;\r\n            line-height: 20px;\r\n            width: 85px;\r\n            text-align: center;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Browse.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Browse.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Browse.vue?vue&type=template&id=451281d3&scoped=true&\"\nimport script from \"./Browse.vue?vue&type=script&lang=js&\"\nexport * from \"./Browse.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Browse.vue?vue&type=style&index=0&id=451281d3&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"451281d3\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}