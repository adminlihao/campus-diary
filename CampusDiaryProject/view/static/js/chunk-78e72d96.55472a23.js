(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-78e72d96"],{"0a9f":function(t,e,r){t.exports=r.p+"static/img/blueBg.8f4dd5e7.png"},2909:function(t,e,r){"use strict";r.d(e,"a",(function(){return c}));var n=r("6b75");function i(t){if(Array.isArray(t))return Object(n["a"])(t)}r("a4d3"),r("e01a"),r("d3b7"),r("d28b"),r("3ca3"),r("ddb0"),r("a630");function a(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}var o=r("06c5");r("d9e2");function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t){return i(t)||a(t)||Object(o["a"])(t)||s()}},"7b27":function(t,e,r){"use strict";r("7fd2")},"7fd2":function(t,e,r){},"985d":function(t,e,r){},a83c:function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"show",rawName:"v-show",value:t.info,expression:"info"}],staticClass:"index"},[r("div",{ref:"partBox",staticClass:"part",attrs:{id:"partBox"},on:{scroll:t.scrollFn}},[r("div",{staticClass:"scrollBox"},t._l(t.info,(function(e,n){return r("div",{key:n,staticClass:"show"},[r("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.coverImg(e),expression:"coverImg(item)"}],attrs:{src:t.defalute,alt:"简介图片"},on:{click:function(r){return t.gotoDetial(e)}}}),r("p",[t._v(t._s(e&&e.title?e.title:""))]),r("div",{staticClass:"authorInfo"},[r("van-image",{attrs:{height:"20",width:"20",radius:"50%",src:e.author_info.head_photo,fit:"fill"}}),r("span",{staticClass:"authname"},[t._v(t._s(e.author_info.username))]),r("ShowInfoAction",{attrs:{msgItem:e,likeCount:e.give_like_count}})],1)])})),0)])])},i=[],a=r("01ac"),o={data:function(){return{defalute:r("0a9f"),name:"ShowPart"}},mounted:function(){this.isAll&&window.removeEventListener("scroll",this.scrollFn)},computed:{scrollFn:function(){return this.throttle(this.listenBottomOut)},coverImg:function(){var t=this;return function(e){if(!e)return"";if(1===e.is_video)return e.cover_url?e.cover_url:t.defalute;var r=e.resource_url?e.resource_url[0]:t.defalute;return e.cover_url?e.cover_url:r}}},components:{ShowInfoAction:a["a"]},props:["info","isAll"],methods:{gotoDetial:function(t){0===t.is_video?this.$router.push({name:"Detial",query:{messageId:t.article_id}}):this.$router.push({name:"video",query:{messageId:t.article_id}})},listenBottomOut:function(){var t=this;this.$nextTick((function(){var e=document.getElementById("partBox"),r=document.getElementsByClassName("scrollBox")[0],n=e.scrollTop||document.body.scrollTop,i=e.clientHeight,a=r.scrollHeight;n+i>=a&&(t.isAll?window.removeEventListener("scroll",t.scrollFn):t.$bus.$emit("getAllarticle"))}))},throttle:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=0;return function(){var i=(new Date).getTime();if(i-n>r){n=i;for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];t.apply(e,o)}}}},destroyed:function(){window.removeEventListener("scroll",this.scrollFn)}},s=o,c=(r("7b27"),r("2877")),l=Object(c["a"])(s,n,i,!1,null,"451281d3",null);e["a"]=l.exports},d0d4:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("van-tabs",{attrs:{animated:""},on:{disabled:t.gotoSearch},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[r("van-tab",{attrs:{title:"关注",to:"/first/focuse"}},[r("router-view")],1),r("van-tab",{attrs:{title:"推荐",to:"/first/recommended"}},[r("router-view")],1),r("van-tab",{attrs:{title:"发现",to:"/first/discover"}},[r("van-tabs",{attrs:{"title-inactive-color":"#ccc","title-active-color":"#000"},model:{value:t.chiledActive,callback:function(e){t.chiledActive=e},expression:"chiledActive"}},t._l(t.typeList,(function(e){return r("van-tab",{key:e.name,attrs:{name:e.name,to:t.path+e.name},scopedSlots:t._u([{key:"title",fn:function(){return[r("div",{staticClass:"typeTabs"},[t._v(" "+t._s(e.title)+" ")])]},proxy:!0}],null,!0)},[r("router-view")],1)})),1)],1),r("van-tab",{attrs:{disabled:""},scopedSlots:t._u([{key:"title",fn:function(){return[r("van-icon",{attrs:{name:"search",size:"20"}})]},proxy:!0}])})],1)],1)},i=[],a=r("2909"),o=r("1da1"),s=(r("96cf"),r("d81d"),r("fb6a"),r("a83c")),c={data:function(){return{active:1,chiledActive:0,path:"/first/discover?type=",typeList:[],type:"recommended"}},components:{Browse:s["a"]},methods:{getType:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/article/getAllArticleType");case 2:r=e.sent,n=r.data,"success"===n.status&&n.articleTypeList.map((function(e){t.typeList.push({name:e.article_type_id,title:e.article_type})}));case 5:case"end":return e.stop()}}),e)})))()},getAll:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var r,n,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==t.active){e.next=8;break}return t.pageFollowInfo.pageIndex++,e.next=4,t.getArticleFromFollow();case 4:r=e.sent,null!==r?(n=t.articleFromFollow).push.apply(n,Object(a["a"])(r)):t.FocusIsAll=!0,e.next=14;break;case 8:if(2!==t.active){e.next=14;break}return t.pageFriendInfo.pageIndex++,e.next=12,t.getArticleFromFriend();case 12:i=e.sent,null!==i?(o=t.articleFromFriends).push.apply(o,Object(a["a"])(i)):t.friendIsAll=!0;case 14:case"end":return e.stop()}}),e)})))()},gotoSearch:function(){this.$router.push("/search")}},mounted:function(){this.getType();var t=this.$route.path;this.type=t.slice(7,t.length)},computed:{routerTo:function(){switch(this.type){case"recommended":this.active=1;break;case"focuse":this.active=0;break;case"discover":this.active=2;break;default:break}}}},l=c,u=(r("e984"),r("2877")),d=Object(u["a"])(l,n,i,!1,null,"2b741b16",null);e["default"]=d.exports},e984:function(t,e,r){"use strict";r("985d")}}]);
//# sourceMappingURL=chunk-78e72d96.55472a23.js.map